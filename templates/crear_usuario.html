<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="static/images/logosmall.ico">
    <title>R&R SIGN UP</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='stylemain.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>

    <div class="navbar">
        <!-- Logo centrado -->
        <div class="nav-left">
            <span>&nbsp;</span>
            <a href="{{ url_for('home') }}" id="logo"><img src="static/images/logo.png" style="height: 50px;"></a>
        </div>
        
        <div class="nav-logo">
            <span></span>
        </div>
    
        <!-- Enlaces del lado derecho -->
        <div class="nav-right">
            <a href="{{ url_for('home') }}">HOME</a>
            <span>&nbsp;</span>
        </div>
    </div>
    <script>
        window.onbeforeunload = function() {
            // Limpiar los campos del formulario
            const form = document.getElementById('form-signup');
            if (form) {
                form.reset(); // Restablece todos los campos del formulario
            }
        };
    </script>
    <div class="login-container">
        <div class="login-box login-box2">
            <h1>Sign up</h1><br>
            <form id="form-signup" method="post" action="{{ url_for('new_user') }}" onsubmit="return validateForm()">
                <div class="container_cols">
                    <div class="columna">
                        <div class="input-box">
                            <input type="text" name="name" required oninput="validarLetras(this), this.setCustomValidity('')" title="Enter your name" oninvalid="this.setCustomValidity('Please enter your name')">
                            <label for="name">Name</label>
                        </div>
                        <div class="input-box">
                            <input type="text" name="lstname" required oninput="validarLetras(this), this.setCustomValidity('')" title="Enter your last name" oninvalid="this.setCustomValidity('Please enter your last name')">
                            <label for="lstname">Last name</label>
                        </div>
                        <div class="input-box">
                            <input type="text" name="email" required oninput="validarCorreo(this)" title="Enter your email" oninvalid="this.setCustomValidity('Please enter your email')">
                            <label for="email">Email</label>
                            <small id="message"></small>
                        </div>
                    </div>
                    <div class="columna">
                        <div class="input-box">
                            <input id="number" name="number" type="tel" required maxlength="10" minlength="8" oninput="validarNumeros(this), validarTelefono(this)" title="Enter your phone number" oninput="this.setCustomValidity('')" oninvalid="this.setCustomValidity('Please enter your phone number')">
                            <label for="number">Phone Number</label>
                            <small id="message1"></small>
                        </div>
                        <div class="input-box">
                            <input type="text" name="id" maxlength="10" required title="Enter your ID" oninvalid="this.setCustomValidity('Please enter your ID')" oninput="this.setCustomValidity('')">
                            <label for="id">Employee ID</label>
                        </div>
                        <div class="input-box">
                            <input type="password" name="password" required title="Enter your password" oninput="this.setCustomValidity('')" oninvalid="this.setCustomValidity('Please enter your password')">
                            <label for="password">Password</label>
                        </div>
                    </div>
                </div>
                <div class="button-box">
                    <button type="submit">Sign up</button>
                </div>
                <div class="links">
                    <a href="{{ url_for('login_route') }}">Already have an account? Sign in</a>
                </div>
            </form>
            <!-- Recuperar y mostrar el mensaje flash -->
            {% set mensaje = get_flashed_messages(with_categories=true) %}
            {% if mensaje %}
                <p id="{{ mensaje[0][0] }}">{{ mensaje[0][1] }}</p>
                <script>
                   document.addEventListener('DOMContentLoaded', function() {
                        bloquearFormulario(); // Llama a la funci√≥n cuando se carga el DOM
                    });
                </script>
            {% endif %}
        </div>
    </div>

    <!-- Footer -->
    {% include "shared/footer.html" %}
    <!-- Footer -->
    <script src="static/app.js" ></script>
    <script src="{{ url_for('static', filename='validations.js') }}" ></script>
</body>
</html>


